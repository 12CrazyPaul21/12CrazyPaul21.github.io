---
title: Link-Cooperation项目 - 敏捷过程实践指导
tags:
	- Link-Cooperation
	- 项目日志
	- 敏捷过程（Agile）
	- OKR
	- 极限编程（XP）
	- Scrum
	- 看板
categories:
	- [项目日志, Link-Cooperation, 敏捷过程]
---

## 概要

这篇文章的目的是指导Link-Cooperation项目的管理和开发过程，内容不会涉及到具体的开发技术。团队打算从**OKR管理方法**、**敏捷开发过程**（Scrum和看板）以及**极限编程**[^XP]的技术实践等多方面借鉴、吸取、融合制定适合团队自身的敏捷过程。本文有个人的见解，也参考大量的书籍、资料，这些会在文末标注出。

这篇指导性文章即使在本项目结束后也永远不会被定义为最终形态，这与Scrum敏捷过程没有“完成”的定义是一致的（**敏捷没有成熟度模型，这是一种持续改进形式**，它的使用始终都要与动态的软件开发世界保持一致），该文章将会在不断的冲刺中持续的改进和完善，因为不能够保证文章的当前版本是否存在错误，也不能够保证在实际的项目冲刺时文章的指导方法能够适用。

## OKR

什么是OKR

OKR的好处

能从OKR中吸取什么样的实践方法

O

KR

OKR与敏捷结合

S.M.A.R.T

5W2H

二八原则

## 没有标签的敏捷（Agile Without The Label）

在展开工作后，我们不需要声称或者强调自己是敏捷的并且尽可能的避免使用敏捷用语。

引用：https://www.forbes.com/sites/stevedenning/2019/05/23/understanding-fake-agile/?sh=7280f7394bbe

## 伪敏捷

## 敏捷与传统瀑布模型各自适用的场景

## 对于敏捷的误解

敏捷（Agile）这个翻译其实有一定的问题，敏捷形容的就是动作灵活迅速~快，而敏捷过程并非强调快。

## 真敏捷的三定律

## 敏捷过程的缺陷

## Scrum敏捷框架图

![](/images/post/link_cooperation_agile/scrum_framework_chinese.png)

## 价值观

### 敏捷软件开发宣言

- <font size="5">个体和交互</font> <font size="5">**胜过**</font> 过程和工具
- <font size="5">可以工作的软件</font>  <font size="5">**胜过**</font>  面面俱到的文档
- <font size="5">客户合作</font> <font size="5">**胜过**</font> 合同谈判
- <font size="5">响应变化</font> <font size="5">**胜过**</font> 遵循计划

### Scrum价值观

- 诚实
- 开放
- 勇气
- 尊重
- 专注
- 信任
- 授权
- 合作

## 原则

### 敏捷宣言遵循的原则

- 我们最优先要做的是通过**尽早的、持续的交付有价值的软件**来使客户满意。
- 即使到了开发的后期，也**欢迎改变需求**、敏捷过程利用变化来为客户创造竞争优势。
- **经常性地交付**可以工作的软件，交付的间隔可以从几个星期到几个月，**交付的时间间隔越短越好**。
- 在整个项目开发期间，业务人员和开发人员必须天天都**在一起工作**。
- 围绕被**激励**起来的个体来构建项目。给他们提供所需的环境和支持，并且**信任**他们能够完成工作。
- 在团队内部，最具有效果并且富有效率的传递信息的方法，就是**面对面的交谈**。
- **工作的软件**是首要的**进度度量标准**。
- 敏捷过程提倡可持续的开发速度。责任人、开发者和用户应该能够**保持一个长期的、恒定的开发速度**。
- 不断地关注优秀的技能和好的设计会增强敏捷能力。
- 简单----使未完成的工作最大化的艺术----**简单是敏捷流程的根本**。
- 最好的架构、需求和设计出自于**自组织的团队**。
- 每隔一定时间，团队会在如何才能更有效地工作方面进行**反省**，然后相应地对自己的行为进行**调整**。

### Scrum原则

- 可变性和不确定性
  - 积极采用有帮助的可变性
  - 采用**迭代**和**增量开发**
  - 通过检验、调整、适应和透明来利用可变性
  - 同时减少各种形式的不确定因素
- 预测和适应
  - **不到最后时刻，不轻易决定**
  - **承认无法一开始就把事情做对**
  - 偏好适应性、探索式的方法
  - 用经济合理的方法接受变化
  - 在预测型事前工作和适应型刚好及时的工作之间做出平衡
- 经验认知
  - 快速验证重要的假设
  - 利用多个认知循环并行的优势
  - 组织工作流程以获得快速反馈
- WIP（Work In Process，已开始但未完成的工作）
  - 使用经济合理的批量大小
  - 识别并管理库存以达到良好的流动
  - 关注闲置工作（工作停滞，没人干），而非闲置人员（没活儿干）
- 进度
  - 适应实时的信息并重新制定计划
  - 通过验证流动资产来测量进度
  - 专注于**以价值为中心的交付**
- 执行
  - **快速前进，但不匆忙**
  - 以质量为魂
  - **选用最小、够用的仪式**

## 迭代和增量（Iterative and Incremental）

Scrum基于迭代开发和增量开发，这两个术语经常被用作一个概念，但它们实际是有区别的。

**迭代开发（Iterative Development）**承认我们在把事情做对之前有可能做错，在把事情做好之前有可能做坏。迭代是一种**有计划的修改策略**，通过多次开发来改善正在构建的特性，逐步得出一个完善的解决方案。例如，对于一个知之甚少的产品，开始时可以先通过**创建原型**以获得重要知识，接着在每次迭代时**根据上一个版本的反馈**，决定下一个版本需要对那些部分进行改进或者丢弃某些特性，创建一个更好一点的修订版本。在产品开发中，迭代开发是改进产品的一种非常好的方法，它最大的**缺点**是在遇到不确定因素时，很难事先确定（计划）需要改进多少次。示意图如下（来自：[difference between incremental and iterative][difference between incremental and iterative]）：

![](/images/post/link_cooperation_agile/incremental_model_diagram.png)

**增量开发（Incremental Development）**则是把产品**分解成更小的特性**，**先构建一部分**，在每次增量过程中了解它们在目标使用环境的具体情形，然后根据更多的理解来做出调整，**构建更多的特性，直到最后组成项目的整体**。它最大的**缺点**是逐步构建的过程中，有迷失全局的风险（见木不见林）。示意图如下（来自：[difference between incremental and iterative][difference between incremental and iterative]）：

![](/images/post/link_cooperation_agile/iterative_model_diagram.png)

下面是一张给迭代与增量做对比，非常形象的一张图，同样来自：[difference between incremental and iterative][difference between incremental and iterative]

![](/images/post/link_cooperation_agile/iterative_and_incremental_mona_lisa_diagram.png)

### 敏捷中的迭代和增量

Scrum**综合迭代和增量这两种开发方式的优点**，消除了单独使用其中任何一种方式的缺点。Scrum使用一系列**固定时长的适应性迭代**来同时利用这两种方法的思想，这种迭代方式便是**冲刺**。

冲刺采用**蜂拥式（all-at-once）**的开发方法，在每个冲刺都执行所有的必要活动，创建可工作的产品增量（产品的一部分而不是全部），**每个冲刺完成一部分分析、设计、构建、集成和测试工作**。这样的好处是可以快速验证我们在开发产品特性时所作的假设。

![](/images/post/link_cooperation_agile/scrum_sprint_with_iterative_and_incremental.png)

在Scrum中，并不是每次做一个阶段的工作，而是每次做一个特性，这样一来，在冲刺结束时就可以创建一个有价值的产品增量（产品的部分特性但不是全部）。

在收到对冲刺结果的反馈后，我们可以进行调整，在接下来的冲刺中可以选择开发其他特性或是修改用于构建下一组特性的过程。

在某些情况，冲刺完成的产品增量实际上并没有达到要求，作为对迭代开发和持续改进承诺的一部分，在今后的冲刺中可以安排重新修改这个特性，**这有助于解决事先不知道需要改进多少次的问题**。Scrum不需要事先确定迭代次数，在增量开发产品时，持续不断的反馈能做到迭代次数合理，经济合理。

## 技术债

技术债务既指我们有意**选择的捷径**，又指许多损害软件系统的**不良实践**，这通常是由**糟糕的软件架构**，或者是为了加速软件开发速度，在应该采用最佳方案时**作出妥协导致**的。技术债是要还的，也需要支付利息，通常以将来额外再补做开发工作的形式，技术债**可能无法避免**，重要的是**管理**和**适时偿还技术债**。

### 技术债的种类

技术债有三种类型：低级技术债(或混乱或无心的技术债)、不可避免的技术债、策略性的技术债。

 - **低级技术债**

   指的是由不成熟或流程缺陷导致**设计粗糙**，工程实践糟糕和测试不足。通过适当的培训这种技术债是可以消除的。该类型的技术债比如：不合适或者糟糕的设计、缺陷（已知有问题但还没时间处理）、测试覆盖不充分、手工测试过多（该转自动化测试的时候还在手动测试）、集成和版本管理不善、缺乏平台经验等等。

 - **不可避免的技术债**

  这种技术债通常无法预测和预防。比如，我们**无法事前完美预测产品和设计随着时间推演是怎么演进**的，这样一来，随着后面完成重要的认识循环并获得经验知识，可能修改早期做出的设计和实现决策，这种受影响而必须要做的改动就是不可避免的技术债。再比如，我们使用第三方组件，在使用时可能良好的运作，但该组件的接口也是在不断的演化，之后未必能继续良好的运作，尽管可以预测到这种债务但无法避免。

 - **策略性技术债**

  它是一种工具用来帮助组织从经济角度更好的量化和权衡重要的决策，这种决策往往是实效性很强的决策。比如说产品有未做成钱却烧光的风险，因此，削减初期开发资金，把带有技术债的产品先推出市场，等有收益后再筹备资金进行后续开发。

### 技术债导致的后果

- 爆发点不可预测
- 交付时间延长
- 缺陷数量大增
- 开发和支持成本上升
- 产品萎缩
- 可预测性降低
- 团队表现越来越差
- 团队挫败感四处弥漫
- 客户满意度降低

### 技术债的起因

- 如期完工的**压力**
- 试图**以错误的方式提高速率**
- 进入减少测试可以提高速率的误区
- **债累债**，旧债如果不还，很快会积累新债

### 管理技术债

- 管理应计技术债

  - 使用良好的技术实践
  - 使用**强完成**定义，尽量避免弱完成定义导致积累的技术债
  - 正确理解技术债经济

- 让技术债可见

  - 让技术债在业务层面可见
  - 让技术债在技术层面可见
    - 把技术债当作缺陷录入缺陷跟踪系统
    - 为技术债创建PBI（Product Backlog Item）插入产品列表中，通常在技术债偿还成本很高的时候采取这种方法
    - 专门的技术债列表

- 维护（偿还）技术债 

  - 并非所有技术债都应偿还，与其以下这些原因欠下的技术债，还不如承担高风险以高成本开发新产品，这样做更有意义
    - 行将就木的产品
    - 一次性原型
    - 短命产品
  - 应用童子军规则（既**有债就还**）
  - 分期偿还高息技术债
  - 一边做有客户价值的工作，一边偿还技术债

### 技术债在冲刺中需要注意

  - 避免什么专门的技术债冲刺或重构冲刺，更好的做法是分期还清债务
 - 技术债整理为随时可见的列表，在冲刺计划会议上，在挑选冲刺的条目时，关注技术债务板上的卡片，看计划中条目是否还涉及某块技术债的领域，如果有就取下来放入冲刺计划中
 - 在一次冲刺完成之后需要讨论积累的技术债

## 角色

Scrum过程中存在以下三种角色：

- 产品负责人
- ScrumMaster
- 开发团队

其中**产品负责人**和**ScrumMaster**，可以兼任多个项目的产品负责人和ScrumMaster，也可以兼任其它角色比如开发人员，但是**最好不要同时兼任产品负责人和ScrumMaster**。

ScrumMaster与产品负责人的关系类似运动团队中，**教练**和**团队负责人**的关系，所以ScrumMaster担任的是**领导者**，而产品负责人担任的是**管理者**。

### 产品负责人

产品负责人是有授权的**产品领导力中心**，他是**唯一有权决定**要构建哪些特性并以何种顺序构建这些特性的人。产品负责人要保持一个清晰的构想并把它传达给每一为参与者，他的身份决定着他要对正在开发或维护的解决方案**全面负责**。如果项目较大，可以使用产品负责人组，但最好有一个人做决策和承担责任

#### 主要职责

- 管理经济效益
  - 版本层面的经济考量
  - 冲刺级别的经济考量
  - 产品列表的经济考量
- 参与规划活动
- 梳理产品列表
- 定义接收标准并验证这些标准是否得到满足
- 与开发团队协作
- 与利益干系人协作

#### 特征/能力

- 领域能力
  - 有预见性
  - 知道有些事是无法预见的
  - 具备业务和领域专长
- 人际交往能力
  - 和利益干系人关系好
  - 促成谈判/达成一致意见
  - 良好的沟通能力
  - 有正能量，会激励人
- 决策力
  - 得到授权，可以指定决策
  - 关键时刻敢于拍板
  - 有决断力
  - 从经济的视角权衡业务/技术能力
- 责任心
  - 承担产品责任
  - 参与并随时可以到场
  - 充当Scrum团队成员

### ScrumMaster（教练）

ScrumMaster帮助每个参与者理解并接受Scrum的价值观、原则和实践。

作为**教练**有**不断完善敏捷过程的义务**，也充当**润滑剂**，通过对产品负责人和开发团队这两个角色进行**指导**，**消除产品负责人和开发团队的隔阂**，使产品负责人能直接驱动开发团队。

作为**变革者**，他需要帮助团队**定义并遵守适合团队自己的敏捷流程**，从而确保工作完成。并且必须**积极推动变革**，帮助大家转变思维。

作为**辅助者**，还有责任保护团队不受外界干扰（“**保护伞**”），发挥领导作用，清楚阻碍团队生产率的障碍（为“**清道夫**”）。

另外需要注意ScrumMaster是领导者而不是管理者，他**没有管理权力**。

#### 主要职责

- 教练
- 服务型领导
- 过程权威
- “保护伞”
- “清道夫”
- “变革代言人”

#### 特征/能力

- 见多识广
- 善于提问
- 有耐心
- 有协作精神
- 保护团队
- 公开透明

### 开发团队

传统软件开发方法定义了不同的工作类型，如架构师、程序员、测试员、数据库管理员和界面设计师等。而Scrum定义的是开发团队的角色，这是一个由几种职位的人组成的**多样化跨职能团队**，简单来说就是前面提到的那几类人的**跨技能集合**。负责产品的设计、构建和测试。

开发团队进行**自我组织**，确定采用哪种最佳方式来实现产品负责人设定的目标。团队成员作为一个整体，必须具备多种技能以构建高质量、可工作的软件。

所以采用Scrum方法其实对开发成员的素质是有一定要求的，跨职能多样化的团队成员自组织，以最合适的方式完成工作。

#### 主要职责

开发团队的大部分时间都花在**冲刺执行**上

- 每日检视和调整
- 梳理产品列表
- 冲刺规划
- 检视和调整产品与过程

#### 特征/能力

- **自组织**：开发团队成员“**自组织**”的决定实现冲刺目标的**最佳方式**，没有项目经理告诉团队要怎么开展工作，自组织是系统自下而上，自发的属性，没有外部统治力量采用传统的自上而下，命令与控制的管理方式。举例子就是**大雁成群**的**V字飞行**，它们没有所谓的经理鸟，而是不同个体采用不同的方式彼此交互，遵循一个简单的，局部的，在不断反馈环境下作用的规则。这类系统拥有**非凡的稳定性**和**惊人的新颖性**。
- **跨职能**的多样化和全面化：团队成员拥有合适的技能，覆盖各个专业领域，并且总体上技能有一些重叠，团队有额外的灵活性。团队成员能够做多种类型的任务
  - 跨职能、多样化
    - 跨职能的团队成员
    - 不同的学科背景
  - 多样化视角
    - 理解
    - 策略/启发
    - 心智模型
    - 偏好
  - 更好的成果
    - 更快的解决方案
    - 更好的解决方案
    - 更出色的判断
- **T型技能**：综合性T型技能团队，指有一定核心领域外的工作能力（**广度**，T的水平方向），核心领域内的职责，学科，特长（**深度**，T的垂直方向）
- **火枪手态度**：既“人人为我，我为人人”的态度，这强化这样一个观点：团队成员共同承担完成工作的责任，成败是整个团队的事情。没人会说：“我那部分做完了，你那部分没有，所以我们失败了”。这突出团队齐心协力的重要性。
- 高带宽沟通（广泛）
- 透明沟通
- 团队规模适中
- 专注、有责任感
- 工作节奏可持续
- 团队成员未定

## 团队结构

特性团队

组件团队

版本火车

## Link-Cooperation敏捷流程

我们打算参考OKR、敏捷、极限编程以及传统瀑布流程等多方面来定制自己团队的开发过程，我们不声称自己是敏捷的。

下面会尽量**避免使用敏捷的相关术语**，这是为了避免“**声称**”或者“**强调**”我们是敏捷的。我认为如果滥用敏捷的术语或者教条化的过分强调敏捷，最终会导致团队所谓的敏捷过程会变成**形式化**的**伪敏捷**。同时这也是为了让团队可以**跳出所谓敏捷的范畴**，使团队能从其它方法中吸取更多的实践经验

### 团队规模

团队只有两人，这里分别称为John[^John]和Phan[^Phan]。

### 角色分工

参考Scrum，分出以下三个角色：

- 产品负责人：产品领导力中心，决定要构建哪些特性并以何种顺序构建这些特性。对正在开发或维护的解决方案**全面负责**。
- 项目流程监管（对应Scrum的ScrumMaster）：充当教练和领导角色，负责监管和指导整个开发流程，调教和优化开发流程，协调产品负责人和开发人员。
- 开发人员（对应Scrum的开发团队）：包括设计、开发、部署、测试等多项工作。**自组织**并且**跨职能多样化**的综合性**T型技能**开发团队。

与Scrum过程一样，产品负责人和项目流程监管不同时兼任，但是它们都可以兼任开发人员。在这个项目上，John担任产品负责人和开发人员，Phan担任项目流程监管和开发人员。

### 项目拆分

Link-Cooperation拆分成四个子项目：

- Link-Cooperation Server：服务端
- Link-Cooperation Web Manager Server：Link-Cooperation服务器集群的管理界面，放在master上，用于管理服务（启动、停止、重启）、监控服务器的资源（CPU、内存、网络、磁盘空间）、管理集群
- 小程序端
- 跨平台桌面端（Windows、MacOS、Linux【主要考虑Ubuntu、Kali、CentOS的X环境】）

其中Link-Cooperation Web Manager Server可以保留到后续的版本再提上来

### 活动

### 工件

### 规划

强完成定义

### 冲刺

#### 冲刺规划

#### 冲刺执行

#### 冲刺评审

#### 冲刺回顾

### 文档

与传统开发方法一样，文档在敏捷过程中同样是重要的，文档存在的本质目的其实就是**用于沟通**（与用户沟通、开发团队内部沟通、与接口使用者沟通...）。只不过敏捷开发强调**轻量级**、并且**具有价值**的文档。

敏捷开发宣言告诉我们要**“重沟通，轻文档”**，千万不能误解，这个**轻**并不是指”轻视、不需要“的意思，而是**轻量级**的意思。

文档可用于沟通，让开发人员有迹可循。例如，对于某个SDK，如果没有一分尽可能详细文档来描述API，随着时间的推移，SDK维护者可能会遗忘了SDK的大量细节，而对于SDK的使用者，在使用的时候可能根本无从下手。

我们的文档不需要面面俱到，更不需要拘泥于一些可有可无的细节，只在“**必要的时候**”留下“**准确**”、“**精简**”和“**有价值**”的文档。



product backlog、sprint backlog、todo、user story...

### 代码注释

注释是对代码的解释和说明，本质目的是为了**增强代码的可读性和可解释性**。对于注释我们也采用与文档类似的方式对待，尽可能的采用轻量的文档，不在没必要的地方留下**无用的注释**，留下的注释也要描述足够的**精简、准确、清晰明了**。

对于**内部接口**，在大多数时候注释都可以足够的轻量，甚至文档注释都可以省略掉。但是对于像SDK API，这些的**外部公开接口**，就需要尽可能的保留有用的注释，并且接口的文档注释也得描述清楚，不然别人可能根本无法使用。

如何**区分是否有必要留下注释**，需要一定经验，有些看起来可有可无的注释，其实是非常有必要的。比如，有些注释是用来**给代码逻辑做层次切割**的，如果少了，那么在阅读的时候，因为缺少了结构分层，会加大阅读难度，下面这段代码是一个例子：

```c++
Window create_main_view()
{
    // 实例化main view
    Window main_view;
    main_view.set_title("main view");
    main_view.set_size(500, 500);
    
    // 配置main view菜单
    Menu menu;
    menu.add_action("退出", on_quit);
    menu.add_action("打开", on_open);
    main_view.set_menu(menu);
    
    //
    // 配置客户区空间
    //
    
    // 加入画布
    Canvas canvas;
    canvas.set_size(300, 300);
    canvas.set_background(Black);
    main_view.add_widget(canvas);
    
    // 加入操作面板
    Panel panel;
    panel.add_action("放大", on_zoom_in);
    panel.add_action("缩小", on_zoom_out);
    main_view.add_widget(panel);
    
    return main_view;
}
```

试试把上面代码中的注释去掉，对比会发现，由于注释的存在分割了代码的层次，可以一眼就看完这个函数到底做了啥，而去掉注释后还得花更多的时间。

### 工具

#### 时间盒

#### 燃尽图

#### 燃烧图

#### 文档沟通工具

Product Backlog

Sprint Backlog（或Sprint Todo）

User Story

### 平台

### 应用极限编程实践

极限编程XP的12个最佳实践

## 词汇表

[^XP]: 极限编程（ExtremeProgramming，简称XP）
[^John]: 兼任产品负责人和开发团队成员
[^Phan]: 兼任ScrumMaster和开发团队成员

## 引用链接

[difference between incremental and iterative]: https://www.zentao.pm/agile-knowledge-share/Scrum-what-the-difference-between-incremental-and-iterative-development-845.html	"Scrum: what's the difference between incremental and iterative development?"

## 参考书籍

- 敏捷软件开发
- Scrum精髓：敏捷转型指南